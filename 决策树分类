from sklearn.tree import DecisionTreeClassifier,plot_tree
from sklearn.model_selection import train_test_split
from sklearn.datasets import make_classification
import matplotlib.pyplot as plt

#造一个二维的二分类数据集
x,y=make_classification(
      n_samples=300,
      n_features=2,
      n_redundant=0,
      n_clusters_per_class=1,
      random_state=0
)
# 划分训练集/测试集
X_train,X_test,y_train,y_test=train_test_split(
   X,y,test_size=0.3,random_state=42)
#定义决策树分类器
clf=DecisionTreeClassifier(
   criterion='gini',
   max_depth=3,
   random_state=0)
#训练
clf.fit(X_train,y_train)

#评估
acc=clf.score(X_test,y_test)
print(f"测试机准确率：{acc*100:.2f}%")

plt.figure(figsize=(10,6))
plot_tree(
    clf,
    feature_names=['x1','x2'],
    class_names=['class0','class1'],
    filled=True,
    rounded=True
)
plt.show
